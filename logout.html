<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Logout | STEM Village</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/main.css">
  <script src="/js/auth.js"></script>
</head>
<body class="bg-gradient-to-br from-stem-blue via-stem-green to-stem-orange min-h-screen flex items-center justify-center">
  <main class="w-full max-w-md mx-auto p-8 bg-white rounded-lg shadow-lg flex flex-col items-center" aria-label="Logout Panel">
    <h1 class="text-2xl font-bold text-stem-blue mb-4">Logging outâ€¦</h1>
    <div id="logout-status" class="text-lg text-gray-700 mb-6" role="status" aria-live="polite">Please wait while we log you out.</div>
  </main>
  <script>
    (function() {
      var role = localStorage.getItem('sv_user_role');
      Auth.logout().then(function(returnedRole) {
        var redirectRole = role || returnedRole;
        if (redirectRole === 'teacher') {
          window.location.href = '/learning/gamified6-12/teacher-login.html';
        } else if (redirectRole === 'student') {
          window.location.href = '/learning/gamified6-12/login.html';
        } else {
          window.location.href = '/index.html';
        }
      }).catch(function() {
        document.getElementById('logout-status').textContent = 'Logout failed. Please try again.';
      });
    })();
  </script>
</body>
</html>
